<!-- create-offre.component.html -->
<div class="modal-overlay">
  <div class="modal-content">
    <h2>Créer une nouvelle offre</h2>

    <form [formGroup]="offreForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="nomEntreprise">Nom de l'entreprise*</label>
          <input type="text" id="nomEntreprise" formControlName="nomEntreprise" class="form-input">
          <div class="error-message" *ngIf="offreForm.get('nomEntreprise')?.invalid && offreForm.get('nomEntreprise')?.touched">
            Le nom de l'entreprise est requis
          </div>
        </div>

        <div class="form-group">
          <label for="secteurActivite">Secteur d'activité*</label>
          <select id="secteurActivite" formControlName="secteurActivite" class="form-select">
            <option value="">Sélectionnez un secteur</option>
            <option *ngFor="let secteur of secteurOptions" [value]="secteur">
              {{ secteur }}
            </option>
          </select>
          <div class="error-message" *ngIf="offreForm.get('secteurActivite')?.invalid && offreForm.get('secteurActivite')?.touched">
            Le secteur d'activité est requis
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="typeOffre">Type d'offre*</label>
          <select id="typeOffre" formControlName="typeOffre" class="form-select">
            <option value="">Sélectionnez un type</option>
            <option *ngFor="let type of typeOffreOptions" [value]="type.value">
              {{ type.label }}
            </option>
          </select>
          <div class="error-message" *ngIf="offreForm.get('typeOffre')?.invalid && offreForm.get('typeOffre')?.touched">
            Le type d'offre est requis
          </div>
        </div>

        <div class="form-group">
          <label for="dureeMois">Durée (mois)</label>
          <input type="number" id="dureeMois" formControlName="dureeMois" class="form-input" placeholder="Ex: 6">
        </div>
      </div>

      <div class="form-group">
        <label for="posteTitre">Titre du poste*</label>
        <input type="text" id="posteTitre" formControlName="posteTitre" class="form-input" placeholder="Ex: Développeur Frontend">
        <div class="error-message" *ngIf="offreForm.get('posteTitre')?.invalid && offreForm.get('posteTitre')?.touched">
          Le titre du poste est requis
        </div>
      </div>

      <div class="form-group">
        <label for="description">Description*</label>
        <textarea id="description" formControlName="description" class="form-textarea" rows="6"
                  placeholder="Décrivez les responsabilités, compétences requises, etc."></textarea>
        <div class="error-message" *ngIf="offreForm.get('description')?.invalid && offreForm.get('description')?.touched">
          La description est requise (minimum 50 caractères)
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="localisation">Localisation*</label>
          <input type="text" id="localisation" formControlName="localisation" class="form-input" placeholder="Ex: Casablanca">
          <div class="error-message" *ngIf="offreForm.get('localisation')?.invalid && offreForm.get('localisation')?.touched">
            La localisation est requise
          </div>
        </div>

        <div class="form-group">
          <label for="dateDebut">Date de début*</label>
          <input type="date" id="dateDebut" formControlName="dateDebut" class="form-input">
          <div class="error-message" *ngIf="offreForm.get('dateDebut')?.invalid && offreForm.get('dateDebut')?.touched">
            La date de début est requise
          </div>
        </div>
      </div>

      <div class="form-group" *ngIf="offreForm.get('status')">
        <label for="status">Statut</label>
        <select id="status" formControlName="status" class="form-select">
          <option value="active">Active</option>
          <option value="draft">Brouillon</option>
          <option value="closed">Clôturée</option>
        </select>
      </div>

      <div class="form-actions">
        <button type="button" (click)="onCancel()" class="btn-cancel">Annuler</button>
        <button type="submit" [disabled]="!offreForm.valid" class="btn-submit">Enregistrer</button>
      </div>
    </form>
  </div>
</div>
